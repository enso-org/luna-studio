.graph {
    position: relative;
    flex:     none;
    overflow: inherit;
    color:    @colorName;
}

.plane {
    position: absolute;
    width:    10px;
    height:   10px;
    overflow: inherit;
}

.plane--nodes {
    svg {
        position: absolute;
        top:      0;
        left:     0;
        overflow: inherit;
        width:    10px;
        height:   10px;
    }
}


// connection

.connections {
    stroke-linecap:  round;
    stroke-linejoin: round;
}


// node

.node {
    position: absolute;
    width:    10px;
    height:   10px;
    .port--self {
        r: 5;
    }

}
.node__name {
    fill:        @colorName;
    text-anchor: middle;
    font-weight: 300;
    filter:      "url(#textShadow)";
    &::selection {
        background: none;
    }
}
.port {
    stroke-width: 0px;
    &:hover {
        stroke-width:    2px;
        stroke-linecap:  round;
        stroke-linejoin: round;

    }
}

// selection mark

.node__selection-mark {
    fill:       none;
    stroke:     transparent;
    transition: all 90ms ease-in-out;
    stroke:     @colorSelect;
    opacity:    0;
    x:         -20px;
    y:         -20px;
    width:      40px;
    height:     40px;
    rx:         20px;
    ry:         20px;
}

.node--selected {
    .node__selection-mark {
        opacity: 1;
    }
}

.node--selected {
    .node__selection-mark {
        x:     -30px;
        y:     -30px;
        width:  60px;
        height: 60px;
        rx:     30px;
        ry:     30px;
    }
}
.node--expanded {
    .node__selection-mark {
        x:      0px;
        y:     -20px;
        width:  272px;
        height: 126px;
        rx:     4px;
        ry:     4px;
    }
    &.node--selected {
        .node__selection-mark {
            x:     -10px;
            y:     -30px;
            width:  292px;
            height: 146px;
            rx:     12px;
            ry:     12px;
        }
    }
}

// node expanded

.node__properties {
    width: 0;
    height: 32px;
    overflow: hidden;
    opacity: 0;
    transition: all 90ms ease-in-out;
}

.node--expanded {
    .node__properties {
        position:      relative;
        font-size:     12px;
        padding:       12px 16px;
        position:      relative;
        top:          -20px;
        border-radius: 4px;
        width:         240px;
        height:        auto;
        overflow:      hidden;
        background:    @colorNodeBackground;
        opacity:       1;
    }
}

.node__visualisation {
    opacity:         0;
    backdrop-filter: brightness(1) blur(20px);
}
